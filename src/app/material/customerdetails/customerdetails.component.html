<div class="header">
  <h2>QuotePro</h2>

  <div class="header-controls">
    <div class="search-bar">
      <mat-form-field appearance="standard" class="full-width">
        <mat-label>Search by Customer</mat-label>
        <input matInput [(ngModel)]="searchText" placeholder="Type to filter..." />
      </mat-form-field>
    </div>

    <div class="date-filters">
      <mat-form-field appearance="outline">
        <mat-label>Start Date</mat-label>
        <input matInput [matDatepicker]="startPicker" [(ngModel)]="startDate" (dateChange)="applyDateFilter()" />
        <mat-datepicker-toggle matSuffix [for]="startPicker"></mat-datepicker-toggle>
        <mat-datepicker #startPicker></mat-datepicker>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>End Date</mat-label>
        <input matInput [matDatepicker]="endPicker" [(ngModel)]="endDate" (dateChange)="applyDateFilter()" />
        <mat-datepicker-toggle matSuffix [for]="endPicker"></mat-datepicker-toggle>
        <mat-datepicker #endPicker></mat-datepicker>
      </mat-form-field>
    </div>

    <button mat-raised-button color="primary" (click)="addCustomerDetails()">Add Customer Details</button>
  </div>
</div>

<div class="table-container">
  <table>
    <thead>
      <tr>
        <th>Customer Name</th>
        <th>Drawing No</th>
        <th>Part No</th>
        <th>No of Process</th>
        <th>Overall Cost</th>
        
        <th>Download</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
  <ng-container *ngFor="let customer of filteredCustomers">
    <tr>
      <td>{{ customer.CustomerName.name || '-'}}</td>
      <td>{{ customer.drawingNo }}</td>
      <td>{{ customer.partName }}</td>
      <td>{{ customer.processName?.length }} Process</td>
      <td>{{ customer.OverallTotalCost  | number:'1.2-2'
 }}</td>
     
      <td>
       <p  class="Quotation" (click)="downloadQuotation(customer)">Download Quotation </p> 
      </td>
    
     <td>
        <button mat-icon-button>
          <mat-icon (click)="edit(customer._id)" >edit</mat-icon>
        </button>
        <button mat-icon-button>
          <mat-icon (click)="delete(customer._id)" >delete</mat-icon>
        </button>
      </td>
    </tr>
  </ng-container>
</tbody>

  </table>
</div>
